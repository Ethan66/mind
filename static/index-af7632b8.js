import{ap as V,r as R,a9 as L,V as O,g as i,c as p,e as f,k as w,a2 as M,Y as g,as as k,at as C,d as $,aq as z,av as S,D as q,o as B,bD as Y,I as D,w as y,bE as N,bF as X,ay as e,bA as F,N as U,$ as Z,an as G,l as H,am as j,bz as J}from"./index-dce8a8e2.js";import{b as v,m as A,c as K,l as x}from"./mind-map-4ddd28c9.js";const T=c=>(k("data-v-b67d5951"),c=c(),C(),c),Q=T(()=>w("span",{class:"name"},"适应画布",-1)),W=T(()=>w("span",{class:"desc"},"Ctrl + i",-1)),ee=[Q,W],oe={__name:"detail-context-menu",setup(c){const _=R(!1),a=L({left:0,top:0,mosuedownX:0,mosuedownY:0});let s=!1;const o=([t]=[])=>{t.which===3&&(a.mosuedownX=t.clientX,a.mosuedownY=t.clientY,s=!0)},r=([t]=[])=>{if(s){if(s=!1,Math.abs(a.mosuedownX-t.clientX)>3||Math.abs(a.mosuedownY-t.clientY)>3){m();return}E([t])}},E=([t]=[])=>{a.left=t.clientX+10,a.top=t.clientY+10,_.value=!0},m=()=>{_.value=!1,a.left=0,a.top=0};return v.on("svg_mousedown",o),v.on("mouseup",r),O(()=>{v.off("svg_mousedown",o),v.off("mouseup",r)}),(t,l)=>i(_)?(p(),f("div",{key:0,class:"contextmenuContainer listBox",style:M({left:i(a).left+"px",top:i(a).top+"px"})},[w("div",{class:"item",onClick:l[0]||(l[0]=()=>{i(A).v.view.fit(),m()})},[...ee])],4)):g("",!0)}},te=V(oe,[["__scopeId","data-v-b67d5951"],["__file","D:/Ethan/myCode/my-work/unicom-mind-map/src/views/detail/detail-context-menu.vue"]]),ne={class:"detail-page"},ae={style:{position:"absolute",right:"10px",display:"flex","z-index":"100"}},ie=$({__name:"index",setup(c){const _=z(),a=S();let s=_.path.replace(/^\/(([a-zA-Z-]+?\/)+)([a-z-A-Z]+)$/g,"$3");s=s.replace("/","");const o=L({current:_.query.commitId||"",options:[]});(()=>{const d=Object.assign({"/src/mindData/adv-borrow-money.json":()=>e(()=>import("./adv-borrow-money-3c3810eb.js"),[]),"/src/mindData/borrow-bindbankcard_zyapi.json":()=>e(()=>import("./borrow-bindbankcard_zyapi-728730f5.js"),[]),"/src/mindData/borrow-money.json":()=>e(()=>import("./borrow-money-00d3d38a.js"),[]),"/src/mindData/borrow-money_aaaa.json":()=>e(()=>import("./borrow-money_aaaa-92bf782d.js"),[]),"/src/mindData/borrow-money_abc.json":()=>e(()=>import("./borrow-money_abc-f5d27344.js"),[]),"/src/mindData/borrow-money_xianxianghoufu.json":()=>e(()=>import("./borrow-money_xianxianghoufu-f8a9c018.js"),[]),"/src/mindData/guide_juliangbao.json":()=>e(()=>import("./guide_juliangbao-3399ed88.js"),[]),"/src/mindData/home.json":()=>e(()=>import("./home-a22d317b.js"),[]),"/src/mindData/multiple-accounts.json":()=>e(()=>import("./multiple-accounts-b677a927.js"),[]),"/src/mindData/operation-download.json":()=>e(()=>import("./operation-download-c5ce4e34.js"),[]),"/src/mindData/wx-min.json":()=>e(()=>import("./wx-min-e62746c7.js"),[])});o.options=Object.keys(d).filter(n=>n.includes(`/${s}_`)).map(n=>n.replace(new RegExp(`.+${s}_(\\w+)\\.json`),"$1")),_.query.commitId||(o.options.length&&(o.current=o.options[0]),a.push({path:_.path,query:{commitId:o.current}}))})(),q(()=>o.current,()=>{m()}),B(()=>{m()});const r=R(!1);let E={json:null};const m=()=>{clearTimeout(t);const d=Object.assign({"../../mindData/adv-borrow-money.json":()=>e(()=>import("./adv-borrow-money-3c3810eb.js"),[]),"../../mindData/borrow-bindbankcard_zyapi.json":()=>e(()=>import("./borrow-bindbankcard_zyapi-728730f5.js"),[]),"../../mindData/borrow-money.json":()=>e(()=>import("./borrow-money-00d3d38a.js"),[]),"../../mindData/borrow-money_aaaa.json":()=>e(()=>import("./borrow-money_aaaa-92bf782d.js"),[]),"../../mindData/borrow-money_abc.json":()=>e(()=>import("./borrow-money_abc-f5d27344.js"),[]),"../../mindData/borrow-money_xianxianghoufu.json":()=>e(()=>import("./borrow-money_xianxianghoufu-f8a9c018.js"),[]),"../../mindData/guide_juliangbao.json":()=>e(()=>import("./guide_juliangbao-3399ed88.js"),[]),"../../mindData/home.json":()=>e(()=>import("./home-a22d317b.js"),[]),"../../mindData/multiple-accounts.json":()=>e(()=>import("./multiple-accounts-b677a927.js"),[]),"../../mindData/operation-download.json":()=>e(()=>import("./operation-download-c5ce4e34.js"),[]),"../../mindData/wx-min.json":()=>e(()=>import("./wx-min-e62746c7.js"),[])}),n=`../../mindData/${s+(o.current?"_"+o.current:"")}.json`;d[n]().then(b=>{r.value=!0,E.json=b.default})};Y(()=>{r.value&&(K({el:document.querySelector("#mindMapContainer")}),A.v.setFullData(E.json))});let t=null;const l=()=>{r.value&&(r.value=!1,t=setTimeout(m,300))};v.on("renderMindMap",l),window.addEventListener("resize",l),O(()=>{window.removeEventListener("resize",l)});const h=d=>{x.remove("data"),x.remove("editing"),a.push({name:"edit",query:{operateType:d,pageName:s,commitId:o.current}})};return(d,n)=>{const b=J,P=F,I=U;return p(),f("div",ne,[w("div",ae,[D(P,{modelValue:i(o).current,"onUpdate:modelValue":n[0]||(n[0]=u=>i(o).current=u),style:{"margin-right":"10px",width:"150px"},placeholder:"commitId",onChange:n[1]||(n[1]=()=>{r.value=!1,d.$router.push({path:d.$route.path,query:{commitId:i(o).current}})})},{default:y(()=>[(p(!0),f(Z,null,G(i(o).options,u=>(p(),H(b,{key:u,label:u,value:u},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),D(I,{type:"primary",icon:i(N),onClick:n[2]||(n[2]=u=>h("add"))},{default:y(()=>[j("新 增")]),_:1},8,["icon"]),D(I,{type:"warning",icon:i(X),onClick:n[3]||(n[3]=u=>h("edit"))},{default:y(()=>[j("编 辑")]),_:1},8,["icon"])]),D(te),i(r)?(p(),f("div",{id:"mindMapContainer",key:i(o).current})):g("",!0)])}}});const _e=V(ie,[["__file","D:/Ethan/myCode/my-work/unicom-mind-map/src/views/detail/index.vue"]]);export{_e as default};
